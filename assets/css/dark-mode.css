/* ========================================
   DARK MODE - App Louvor PIB
   Paleta de cores agradáveis (não preto puro)
   ======================================== */

/* === VARIÁVEIS GLOBAIS DARK MODE === */
body.dark-mode {
    /* Backgrounds - Ergonomic Dark (Neutral Grays) */
    --bg-primary: #121212;
    /* Deep Grey - Not pure black */
    --bg-secondary: #1E1E1E;
    /* Lighter Grey for cards/surfaces */
    --bg-tertiary: #27272a;
    /* Slightly lighter for inputs/hover */
    --bg-body: #121212;
    --bg-surface: #1E1E1E;

    /* Textos - Reduced Contrast for comfort */
    --text-primary: rgba(255, 255, 255, 0.87);
    /* High Emphasis */
    --text-secondary: rgba(255, 255, 255, 0.60);
    /* Medium Emphasis */
    --text-muted: rgba(255, 255, 255, 0.38);
    /* Disabled/Muted */
    --text-main: rgba(255, 255, 255, 0.87);

    /* Bordas */
    --border-color: #333333;
    --border-subtle: #2d2d2d;

    /* Primary Colors - Dessaturadas para Dark Mode */
    --primary: #34d399;
    /* Emerald 400 - Softer than 500 */
    --primary-hover: #10b981;
    /* Emerald 500 */
    --primary-light: #064e3b;
    /* Emerald 900 background */
    --primary-subtle: #0f392b;
    /* Very dark green background */

    --primary-green: #34d399;
    --primary-green-light: #6ee7b7;
    --primary-green-dark: #10b981;

    /* Accent Colors - Pastels */
    --accent-primary: #34d399;
    --accent-interactive: #6ee7b7;
    --primary-blue: #60a5fa;
    /* Blue 400 - Softer */
    --primary-blue-light: #93c5fd;
    /* Blue 300 - Even softer */

    /* Glassmorphism Dark */
    --glass-bg: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);

    /* Shadows Dark */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.5);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.6);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6);

    /* Reduced Glows for better eye comfort */
    --shadow-glow: 0 0 15px rgba(52, 211, 153, 0.1);
    --shadow-elevated: 0 10px 30px rgba(0, 0, 0, 0.5);

    /* Gradientes mais sutis */
    --gradient-primary: linear-gradient(135deg, #059669 0%, #047857 100%);
    /* Mantendo um pouco de cor nos gradientes mas controlada */
    --gradient-elegant: linear-gradient(135deg, #27272a 0%, #18181b 100%);
    --gradient-soft: linear-gradient(135deg, #27272a 0%, #1e1e1e 100%);
    --gradient-vibrant: linear-gradient(135deg, #34d399 0%, #3b82f6 100%);
    --gradient-hero: linear-gradient(135deg, #1e1e1e 0%, #121212 100%);
    /* Hero mais neutro */
}

/* === TRANSIÇÕES SUAVES === */
body.dark-mode * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* === COMPONENTES GLOBAIS === */

/* Scrollbar Dark */
body.dark-mode ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
    background: var(--bg-primary);
}

body.dark-mode ::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

/* Links */
body.dark-mode a {
    color: var(--primary-blue-light);
}

body.dark-mode a:hover {
    color: var(--primary-green-light);
}

/* === CARDS E SUPERFÍCIES === */

/* Cards Globais - Força fundo escuro em todos os cards */
body.dark-mode .card,
body.dark-mode .dashboard-card,
body.dark-mode .quick-access-card,
body.dark-mode .stat-card,
body.dark-mode .scale-card,
body.dark-mode .leader-card,
body.dark-mode .info-card,
body.dark-mode .event-card,
body.dark-mode .member-card,
body.dark-mode .song-card,
body.dark-mode [class*="card-"],
body.dark-mode [class*="-card"] {
    background: var(--bg-secondary) !important;
    /* #1E1E1E */
    border-color: var(--border-color) !important;
    /* #333333 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
}

/* Títulos e textos principais dentro dos cards */
body.dark-mode .card h1,
body.dark-mode .card h2,
body.dark-mode .card h3,
body.dark-mode .card h4,
body.dark-mode .card h5,
body.dark-mode .card h6,
body.dark-mode .card p,
body.dark-mode .dashboard-card h1,
body.dark-mode .dashboard-card h2,
body.dark-mode .dashboard-card h3,
body.dark-mode .dashboard-card h4,
body.dark-mode .dashboard-card p,
body.dark-mode .quick-access-card h3,
body.dark-mode .quick-access-card p,
body.dark-mode [class*="card-"] h1,
body.dark-mode [class*="card-"] h2,
body.dark-mode [class*="card-"] h3,
body.dark-mode [class*="card-"] h4,
body.dark-mode [class*="card-"] p {
    color: var(--text-primary) !important;
}

/* Textos secundários e muted */
body.dark-mode .card .text-muted,
body.dark-mode .card small,
body.dark-mode .card .subtitle,
body.dark-mode .dashboard-card small,
body.dark-mode .dashboard-card .text-muted,
body.dark-mode [class*="card-"] small,
body.dark-mode [class*="card-"] .text-muted {
    color: var(--text-secondary) !important;
}

/* Card headers e footers */
body.dark-mode .card-header,
body.dark-mode .card-footer {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Card bodies */
body.dark-mode .card-body {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* === NAVEGAÇÃO === */

/* Sidebar */
body.dark-mode .sidebar {
    background: var(--bg-secondary);
    border-right-color: var(--border-color);
}

body.dark-mode .sidebar-header {
    border-bottom-color: var(--border-color);
}

body.dark-mode .logo-area {
    color: var(--text-primary) !important;
}

body.dark-mode .logo-area span {
    color: var(--primary-green) !important;
}

body.dark-mode .logo-area img {
    filter: brightness(0) invert(1);
}

body.dark-mode .sidebar-nav {
    background: transparent;
}

body.dark-mode .nav-item {
    color: var(--text-secondary);
}

body.dark-mode .nav-item:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

body.dark-mode .nav-item.active {
    background: var(--primary-light);
    color: var(--primary-green-light);
}

body.dark-mode .nav-item svg {
    color: var(--text-muted);
}

body.dark-mode .nav-item:hover svg {
    color: var(--text-primary);
}

body.dark-mode .nav-item.active svg {
    color: var(--primary-green-light) !important;
}

/* Sidebar specific nav items */
body.dark-mode .nav-item.nav-primary:hover,
body.dark-mode .nav-item.nav-primary.active {
    background-color: var(--primary-light);
    color: var(--primary-green-light);
}

body.dark-mode .nav-item.nav-emerald:hover,
body.dark-mode .nav-item.nav-emerald.active {
    background-color: var(--primary-light);
    color: var(--primary-green-light);
}

body.dark-mode .nav-item.nav-spiritual:hover,
body.dark-mode .nav-item.nav-spiritual.active {
    background-color: #1e3a8a;
    color: #93c5fd;
}

body.dark-mode .nav-item.nav-communication:hover,
body.dark-mode .nav-item.nav-communication.active {
    background-color: #7c2d12;
    color: #fed7aa;
}

body.dark-mode .nav-item.nav-communication.nav-pink:hover,
body.dark-mode .nav-item.nav-communication.nav-pink.active {
    background-color: #831843;
    color: #fbcfe8;
}

body.dark-mode .nav-divider {
    background: var(--border-color);
}

body.dark-mode .sidebar-text {
    color: var(--text-muted);
}

/* Sidebar Footer */
body.dark-mode .sidebar-footer {
    background: var(--bg-tertiary);
    border-top-color: var(--border-color);
}

body.dark-mode .user-profile-integrated {
    color: var(--text-primary);
}

body.dark-mode .profile-link:hover {
    background: var(--bg-primary);
}

body.dark-mode .user-avatar-compact {
    border-color: var(--border-color);
}

body.dark-mode .u-name {
    color: var(--text-primary);
}

body.dark-mode .u-role {
    color: var(--text-muted);
}

body.dark-mode .action-icon-subtle {
    color: var(--text-muted);
}

body.dark-mode .action-icon-subtle:hover {
    background: var(--bg-primary);
    color: var(--text-primary);
}

/* Sidebar Overlay */
body.dark-mode .sidebar-overlay {
    background: rgba(0, 0, 0, 0.7);
}

/* Sidebar Scrollbar */
body.dark-mode .sidebar::-webkit-scrollbar-track {
    background: transparent;
}

body.dark-mode .sidebar::-webkit-scrollbar-thumb {
    background: transparent;
}

body.dark-mode .sidebar:hover::-webkit-scrollbar-thumb {
    background: var(--border-color);
}

/* Bottom Navigation */
body.dark-mode .bottom-nav-bar {
    background: rgba(36, 41, 56, 0.95);
    backdrop-filter: blur(12px);
    border-top-color: var(--border-color);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
}

body.dark-mode .b-nav-item {
    color: var(--text-muted);
}

body.dark-mode .b-nav-item.active {
    color: var(--primary-green-light);
}

body.dark-mode .b-nav-item.active .b-nav-icon-wrapper {
    background: var(--primary-light);
}

/* Bottom Sheets */
body.dark-mode .bottom-sheet {
    background: var(--bg-secondary);
    box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.5);
}

body.dark-mode .sheet-header {
    border-bottom-color: var(--border-color);
}

body.dark-mode .sheet-title {
    color: var(--text-primary);
}

body.dark-mode .sheet-btn {
    background: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-primary);
}

body.dark-mode .sheet-btn:active {
    background: var(--bg-primary);
}

/* Mobile Header */
body.dark-mode .mobile-header {
    background: var(--bg-secondary);
    border-bottom-color: var(--border-color);
}

body.dark-mode .page-title {
    color: var(--text-primary);
}

body.dark-mode .btn-menu-trigger {
    color: var(--text-primary);
}

body.dark-mode .btn-menu-trigger:active {
    background: var(--border-color);
}

/* Dropdowns */
body.dark-mode .dropdown-menu {
    background: var(--bg-secondary);
    border-color: var(--border-color);
    box-shadow: var(--shadow-lg);
}

body.dark-mode .dropdown-item {
    color: var(--text-primary);
}

body.dark-mode .dropdown-item:hover {
    background: var(--bg-tertiary);
}

/* === CARDS === */

body.dark-mode .card-clean,
body.dark-mode .card-btn,
body.dark-mode .quick-access-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
    box-shadow: var(--shadow-sm);
}

body.dark-mode .card-btn:active,
body.dark-mode .quick-access-card:active {
    background: var(--bg-tertiary);
}

body.dark-mode .card-title {
    color: var(--text-primary);
}

body.dark-mode .card-subtitle {
    color: var(--text-secondary);
}

/* Hero Section */
body.dark-mode .hero-section {
    background: var(--gradient-hero);
    box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
}

body.dark-mode .hero-greeting,
body.dark-mode .hero-subtitle,
body.dark-mode .hero-info {
    color: white;
}

/* Timeline Cards */
body.dark-mode .timeline-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .timeline-card:hover {
    border-color: var(--primary-green);
    box-shadow: var(--shadow-glow);
}

body.dark-mode .timeline-title {
    color: var(--text-primary);
}

body.dark-mode .timeline-subtitle {
    color: var(--text-secondary);
}

body.dark-mode .timeline-meta {
    color: var(--text-muted);
}

body.dark-mode .timeline-wrapper::before {
    background: var(--border-color);
}

/* Event Cards */
body.dark-mode .event-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .event-title {
    color: var(--text-primary);
}

body.dark-mode .event-footer {
    border-top-color: var(--border-color);
}

/* Compact Cards */
body.dark-mode .compact-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .compact-title {
    color: var(--text-primary);
}

/* Stat Cards */
body.dark-mode .stat-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .stat-card:hover {
    box-shadow: var(--shadow-md);
}

body.dark-mode .stat-icon {
    background: var(--bg-tertiary);
}

body.dark-mode .stat-label {
    color: var(--text-secondary);
}

body.dark-mode .stat-value {
    color: var(--text-primary);
}

/* Schedule Cards */
body.dark-mode .schedule-preview-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .schedule-preview-card:hover {
    border-color: var(--primary-blue);
}

body.dark-mode .schedule-date-badge {
    background: var(--bg-tertiary);
}

body.dark-mode .schedule-title {
    color: var(--text-primary);
}

body.dark-mode .schedule-time {
    color: var(--text-secondary);
}

/* === FORMULÁRIOS === */

body.dark-mode .form-input,
body.dark-mode .form-select,
body.dark-mode input[type="text"],
body.dark-mode input[type="email"],
body.dark-mode input[type="password"],
body.dark-mode input[type="date"],
body.dark-mode input[type="time"],
body.dark-mode input[type="number"],
body.dark-mode textarea,
body.dark-mode select {
    background: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-primary);
}

body.dark-mode .form-input:focus,
body.dark-mode .form-select:focus,
body.dark-mode input:focus,
body.dark-mode textarea:focus,
body.dark-mode select:focus {
    border-color: var(--primary-green);
    background: var(--bg-secondary);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

body.dark-mode .form-label {
    color: var(--text-secondary);
}

body.dark-mode ::placeholder {
    color: var(--text-muted);
}

/* === BOTÕES === */

body.dark-mode .btn-primary {
    background: var(--primary-green);
    color: white;
}

body.dark-mode .btn-primary:hover {
    background: var(--primary-green-dark);
}

body.dark-mode .btn-outline {
    border-color: var(--border-color);
    color: var(--text-primary);
    background: transparent;
}

body.dark-mode .btn-outline:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary-green);
}

body.dark-mode .btn-outline:active {
    background: var(--bg-tertiary);
}

body.dark-mode .btn-ghost {
    color: var(--text-secondary);
}

body.dark-mode .btn-ghost:hover {
    color: var(--text-primary);
    background: var(--bg-tertiary);
}

body.dark-mode .btn-icon {
    color: var(--text-secondary);
}

body.dark-mode .btn-icon:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

/* Action Buttons */
body.dark-mode .btn-action-add,
body.dark-mode .btn-action-save {
    background: var(--primary-green);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

body.dark-mode .btn-action-cancel {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

body.dark-mode .btn-action-delete {
    background: #ef4444;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
}

/* === TABELAS === */

body.dark-mode .clean-table-container {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .clean-table th {
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    border-bottom-color: var(--border-color);
}

body.dark-mode .clean-table td {
    border-bottom-color: var(--border-color);
    color: var(--text-primary);
}

body.dark-mode .table-avatar {
    background: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-primary);
}

/* === BADGES E PILLS === */

body.dark-mode .badge-pill.admin {
    background: #064e3b;
    color: #6ee7b7;
}

body.dark-mode .badge-pill.user {
    background: #713f12;
    color: #fde047;
}

body.dark-mode .stat-pill {
    background: var(--bg-tertiary);
    border-color: var(--border-color);
}

body.dark-mode .text-highlight {
    background: var(--primary-light);
    color: var(--primary-green-light);
}

/* Tags */
body.dark-mode .tag-purple {
    background: #4c1d95;
    color: #c4b5fd;
}

body.dark-mode .tag-green {
    background: #064e3b;
    color: #6ee7b7;
}

/* === AVATARES === */

body.dark-mode .avatar-small,
body.dark-mode .user-avatar-sm,
body.dark-mode .avatar-placeholder {
    border-color: var(--border-color);
    background: var(--bg-tertiary);
    color: var(--text-secondary);
}

body.dark-mode .avatar-group .avatar-item {
    border-color: var(--bg-secondary);
}

/* === SETTINGS PAGE === */

body.dark-mode .settings-profile-header {
    background: var(--bg-tertiary);
}

body.dark-mode .settings-avatar {
    border-color: var(--primary-green);
    background: var(--bg-tertiary);
}

body.dark-mode .settings-name {
    color: var(--text-primary);
}

body.dark-mode .settings-role {
    color: var(--text-secondary);
}

body.dark-mode .settings-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .settings-item {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .settings-item:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary-green);
}

body.dark-mode .settings-title {
    color: var(--text-primary);
}

body.dark-mode .settings-subtitle {
    color: var(--text-muted);
}

body.dark-mode .settings-section-title {
    color: var(--text-muted);
}

body.dark-mode .settings-icon svg {
    color: var(--primary-green);
}

body.dark-mode .settings-arrow {
    color: var(--text-muted);
}

/* === LISTAS === */

body.dark-mode .list-card-simple {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .list-card-simple:active {
    background: var(--bg-tertiary);
}

body.dark-mode .list-day-simple {
    color: var(--text-muted);
}

body.dark-mode .list-title-simple {
    color: var(--text-primary);
}

/* === MODAIS E OVERLAYS === */

body.dark-mode .modal-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .bs-overlay {
    background: rgba(0, 0, 0, 0.7);
}

body.dark-mode .bottom-sheet-overlay {
    background: rgba(0, 0, 0, 0.7);
}

/* === DASHBOARD === */

body.dark-mode .dashboard-grid .card-btn {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .dashboard-grid .card-btn:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary-green);
}

/* === SECTION HEADERS === */

body.dark-mode .section-header {
    color: var(--text-primary);
}

body.dark-mode .section-title {
    color: var(--text-primary);
}

body.dark-mode .section-action {
    color: var(--primary-blue-light);
}

body.dark-mode .section-action:hover {
    color: var(--primary-green-light);
}

/* === ÍCONES ESPECÍFICOS === */

body.dark-mode .icon-box {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

body.dark-mode .card-icon-wrapper {
    background: var(--bg-tertiary);
}

body.dark-mode .card-icon-wrapper svg {
    color: var(--primary-green);
}

body.dark-mode .quick-access-card:hover .card-icon-wrapper {
    background: var(--gradient-primary);
}

body.dark-mode .quick-access-card:hover .card-icon-wrapper svg {
    color: white;
}

/* === SHEET ICONS === */

body.dark-mode #sheet-gestao .sheet-icon-wrapper {
    background: #064e3b;
    border-color: #047857;
}

body.dark-mode #sheet-gestao .sheet-icon-wrapper svg {
    color: #6ee7b7;
}

body.dark-mode #sheet-espiritualidade .sheet-icon-wrapper {
    background: #1e3a8a;
    border-color: #2563eb;
}

body.dark-mode #sheet-espiritualidade .sheet-icon-wrapper svg {
    color: #93c5fd;
}

body.dark-mode #sheet-comunicacao .sheet-icon-wrapper {
    background: #7f1d1d;
    border-color: #dc2626;
}

body.dark-mode #sheet-comunicacao .sheet-icon-wrapper svg {
    color: #fca5a5;
}

/* === ELEMENTOS ESPECIAIS === */

/* Reading Plan */
body.dark-mode .reading-plan-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

/* Notices/Avisos */
body.dark-mode .notice-card {
    background: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .notice-title {
    color: var(--text-primary);
}

body.dark-mode .notice-content {
    color: var(--text-secondary);
}

/* Empty States */
body.dark-mode .empty-state {
    color: var(--text-muted);
}

/* Dividers */
body.dark-mode hr {
    border-color: var(--border-color);
}

/* === AJUSTES FINAIS === */

/* Garantir que imagens não fiquem muito brilhantes */
body.dark-mode img:not([src*="logo"]) {
    opacity: 0.9;
}

/* Ajustar logos para modo escuro */
body.dark-mode img[src*="logo_pib_black"] {
    filter: brightness(0) invert(1);
}

/* Garantir contraste em textos importantes */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4 {
    color: var(--text-primary);
}

body.dark-mode p {
    color: var(--text-secondary);
}

/* Ajustar sombras de elementos flutuantes */
body.dark-mode .floating-button,
body.dark-mode .fab {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

/* === RESPONSIVIDADE === */

@media (max-width: 768px) {
    body.dark-mode .mobile-header {
        background: var(--bg-secondary);
    }

    body.dark-mode #app-content {
        background: var(--bg-primary);
    }
}

/* === ANIMAÇÕES === */

@keyframes dark-mode-fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

body.dark-mode {
    animation: dark-mode-fade-in 0.3s ease-in-out;
}