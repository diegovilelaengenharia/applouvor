/* ========================================
   DARK MODE OVERRIDES
   Complementa design-system.css para casos específicos via classe .dark-mode
   ======================================== */

/*
   Nota: As variáveis principais de cor já estão definidas em design-system.css.
   Este arquivo foca em:
   1. Overrides de elementos específicos que não usam variáveis globais.
   2. Correções para estilos inline legados.
   3. Scrollbars e Inputs específicos.
*/

/* ============================================
   TRANSIÇÕES SUAVES
   ============================================ */

body.dark-mode * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* ============================================
   COMPONENTES GLOBAIS
   ============================================ */

/* Scrollbar Dark */
body.dark-mode ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

body.dark-mode ::-webkit-scrollbar-track {
    background: var(--bg-app);
}

body.dark-mode ::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: 4px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}

/* Links em Dark Mode */
body.dark-mode a {
    color: var(--primary-400);
    /* Mais claro que o padrão */
}

body.dark-mode a:hover {
    color: var(--primary-300);
}

/* ============================================
   CARDS E SUPERFÍCIES
   ============================================ */

/* Cards Globais */
body.dark-mode .card,
body.dark-mode .dashboard-card,
body.dark-mode .quick-access-card,
body.dark-mode .stat-card,
body.dark-mode .scale-card,
body.dark-mode .leader-card,
body.dark-mode .info-card,
body.dark-mode .event-card,
body.dark-mode .member-card,
body.dark-mode .song-card,
body.dark-mode [class*="card-"],
body.dark-mode [class*="-card"] {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: var(--shadow-md) !important;
}

/* Efeito Hover em Cards Interativos */
body.dark-mode .dashboard-card:hover,
body.dark-mode .quick-access-card:hover,
body.dark-mode .event-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg) !important;
    border-color: var(--primary) !important;
}

/* Títulos e textos dentro dos cards */
body.dark-mode .card h1,
body.dark-mode .card h2,
body.dark-mode .card h3,
body.dark-mode .card h4,
body.dark-mode .card h5,
body.dark-mode .card h6,
body.dark-mode .card p,
body.dark-mode .dashboard-card h1,
body.dark-mode .dashboard-card h2,
body.dark-mode .dashboard-card h3,
body.dark-mode .dashboard-card h4,
body.dark-mode .dashboard-card p,
body.dark-mode .quick-access-card h3,
body.dark-mode .quick-access-card p,
body.dark-mode [class*="card-"] h1,
body.dark-mode [class*="card-"] h2,
body.dark-mode [class*="card-"] h3,
body.dark-mode [class*="card-"] h4,
body.dark-mode [class*="card-"] p {
    color: var(--text-primary) !important;
}

/* Textos secundários */
body.dark-mode .card .text-muted,
body.dark-mode .card small,
body.dark-mode .card .subtitle,
body.dark-mode .dashboard-card small,
body.dark-mode .dashboard-card .text-muted,
body.dark-mode [class*="card-"] small,
body.dark-mode [class*="card-"] .text-muted {
    color: var(--text-secondary) !important;
}

/* Card headers e footers */
body.dark-mode .card-header,
body.dark-mode .card-footer {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

/* Card bodies */
body.dark-mode .card-body {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   MODAIS E OVERLAYS
   ============================================ */

body.dark-mode .modal,
body.dark-mode .modal-content,
body.dark-mode .modal-dialog,
body.dark-mode .modal-body,
body.dark-mode [class*="modal-"],
body.dark-mode .overlay,
body.dark-mode .popup {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: var(--shadow-2xl) !important;
}

body.dark-mode .modal-header {
    background: var(--bg-secondary) !important;
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-primary) !important;
}

body.dark-mode .modal-footer {
    background: var(--bg-secondary) !important;
    border-top: 1px solid var(--border-color) !important;
}

/* ============================================
   INPUTS E FORMULÁRIOS
   =========================================== */

/* Inputs e Formulários - Reforço */
body.dark-mode input[type="text"],
body.dark-mode input[type="email"],
body.dark-mode input[type="password"],
body.dark-mode input[type="number"],
body.dark-mode select,
body.dark-mode textarea {
    background-color: var(--slate-900);
    border-color: var(--slate-700);
    color: var(--slate-100);
}

body.dark-mode input:focus,
body.dark-mode select:focus,
body.dark-mode textarea:focus {
    border-color: var(--primary-500);
    background-color: var(--slate-950);
}

body.dark-mode input::placeholder,
body.dark-mode textarea::placeholder {
    color: var(--text-muted) !important;
}

body.dark-mode select option {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   DROPDOWNS E MENUS
   ============================================ */

body.dark-mode .dropdown,
body.dark-mode .dropdown-menu,
body.dark-mode .dropdown-content,
body.dark-mode [id*="Dropdown"],
body.dark-mode [class*="dropdown-"] {
    background: var(--bg-secondary) !important;
    border-color: var(--border-color) !important;
    color: var(--text-primary) !important;
}

body.dark-mode .dropdown-item,
body.dark-mode .dropdown a {
    color: var(--text-primary) !important;
}

body.dark-mode .dropdown-item:hover,
body.dark-mode .dropdown a:hover {
    background: var(--bg-tertiary) !important;
}

/* ============================================
   SIDEBAR
   ============================================ */

body.dark-mode .sidebar {
    background: var(--bg-secondary);
    border-right-color: var(--border-color);
}

body.dark-mode .sidebar-header {
    border-bottom-color: var(--border-color);
}

body.dark-mode .logo-area {
    color: var(--text-primary) !important;
}

body.dark-mode .logo-area span {
    color: var(--primary-green) !important;
}

body.dark-mode .sidebar-nav {
    background: transparent;
}

body.dark-mode .nav-item {
    color: var(--text-secondary) !important;
}

body.dark-mode .nav-item:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary) !important;
}

body.dark-mode .nav-item.active {
    background: var(--primary-light);
    color: var(--text-primary) !important;
}

/* Ícones coloridos - mantém cores originais */
body.dark-mode .nav-item svg {
    opacity: 1 !important;
}

body.dark-mode .nav-item:hover svg {
    filter: brightness(1.2);
}

body.dark-mode .nav-item.active svg {
    filter: brightness(1.3) !important;
}

body.dark-mode .nav-divider {
    background: var(--border-color);
}

body.dark-mode .sidebar-text {
    color: var(--text-muted);
}

/* Sidebar Footer */
body.dark-mode .sidebar-footer {
    background: var(--bg-tertiary) !important;
    border-top: 1px solid var(--border-color) !important;
}

body.dark-mode .user-profile-integrated {
    color: var(--text-primary) !important;
}

body.dark-mode .profile-link:hover {
    background: var(--bg-primary) !important;
}

body.dark-mode .user-avatar-compact {
    border: 2px solid var(--primary) !important;
}

body.dark-mode .u-name {
    color: var(--text-primary) !important;
}

body.dark-mode .u-role {
    color: var(--text-secondary) !important;
}

/* ============================================
   BOTTOM NAVIGATION
   ============================================ */

body.dark-mode .bottom-nav,
body.dark-mode [class*="bottom-nav"],
body.dark-mode [id*="bottomNav"] {
    background: var(--bg-secondary) !important;
    border-top-color: var(--border-color) !important;
}

body.dark-mode .bottom-nav-bar {
    background: var(--bg-secondary);
    backdrop-filter: blur(12px);
    border-top-color: var(--border-color);
}

body.dark-mode .b-nav-item {
    color: var(--text-muted);
}

body.dark-mode .b-nav-item.active {
    color: var(--primary);
}

body.dark-mode .b-nav-item.active .b-nav-icon-wrapper {
    background: var(--primary-light);
}

/* ============================================
   BOTTOM SHEETS
   ============================================ */

body.dark-mode .bottom-sheet,
body.dark-mode .bottom-sheet-header,
body.dark-mode [id*="Sheet"],
body.dark-mode [id*="sheet"] {
    background: var(--bg-secondary) !important;
}

body.dark-mode .sheet-header {
    border-bottom-color: var(--border-color);
}

body.dark-mode .sheet-title {
    color: var(--text-primary);
}

body.dark-mode .sheet-btn {
    background: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-primary);
}

body.dark-mode .sheet-btn:active {
    background: var(--bg-primary);
}

/* ============================================
   MOBILE HEADER
   ============================================ */

body.dark-mode .mobile-header {
    background: var(--bg-secondary);
    border-bottom-color: var(--border-color);
}

body.dark-mode .page-title {
    color: var(--text-primary);
}

body.dark-mode .btn-menu-trigger {
    color: var(--text-primary);
}

body.dark-mode .btn-menu-trigger:active {
    background: var(--border-color);
}

/* ============================================
   CONTAINERS E WRAPPERS
   ============================================ */

body.dark-mode .container,
body.dark-mode .content-wrapper,
body.dark-mode .main-content,
body.dark-mode .page-content,
body.dark-mode .content-area,
body.dark-mode .wrapper {
    background: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   CORREÇÕES PARA ESTILOS INLINE (LEGACY)
   Força cores dark em elementos com style="..." hardcoded
   ============================================ */

/* Elementos com background branco inline */
body.dark-mode [style*="background: white"],
body.dark-mode [style*="background:white"],
body.dark-mode [style*="background-color: white"],
body.dark-mode [style*="background: #fff"],
body.dark-mode [style*="background:#fff"],
body.dark-mode [style*="background: #ffffff"],
body.dark-mode [style*="background:#ffffff"],
body.dark-mode [style*="background: rgb(255"] {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   CORREÇÕES DE CORES INLINE
   ============================================ */

/* Texto Azul Escuro → Azul Claro */
body.dark-mode [style*="color: #1e40af"],
body.dark-mode [style*="color:#1e40af"] {
    color: #60a5fa !important;
}

/* Texto Azul Médio → Azul Claro */
body.dark-mode [style*="color: #3b82f6"],
body.dark-mode [style*="color:#3b82f6"] {
    color: #93c5fd !important;
}

/* Texto Verde Escuro → Verde Claro */
body.dark-mode [style*="color: #047857"],
body.dark-mode [style*="color:#047857"] {
    color: #34d399 !important;
}

/* Texto Verde Médio → Verde Claro */
body.dark-mode [style*="color: var(--primary)"],
body.dark-mode [style*="color:var(--primary)"] {
    color: #6ee7b7 !important;
}

/* Texto Roxo Escuro → Roxo Claro */
body.dark-mode [style*="color: #6d28d9"],
body.dark-mode [style*="color:#6d28d9"] {
    color: #a78bfa !important;
}

/* Texto Teal Escuro → Teal Claro */
body.dark-mode [style*="color: #14b8a6"],
body.dark-mode [style*="color:#14b8a6"] {
    color: #5eead4 !important;
}